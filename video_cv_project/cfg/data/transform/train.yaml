# Config file for train pipeline.

defaults:
  # Base pipeline config.
  - base

do_patches: true
im_size: [256, 256]
# [384, 384]

# NOTE: Augmentations are random per frame so some don't make sense.

# Interpolation mode for resize operations.
interpolation:
  _target_: torchvision.transforms.InterpolationMode
  _args_: [lanczos]

im_transforms:
  - _target_: torchvision.transforms.ToPILImage
  - _target_: torchvision.transforms.Resize
    size: ${...im_size}
    interpolation: ${...interpolation}
    antialias: true
  # - _target_: torchvision.transforms.ColorJitter
  #   brightness: 0.05
  #   contrast: 0.05
  #   saturation: 0
  #   hue: 0

patch_transforms:
  - _target_: torchvision.transforms.ToPILImage
  # Spatial jitter from paper.
  - _target_: torchvision.transforms.RandomResizedCrop
    size: ${...patch_size}
    scale: [0.7, 0.9]
    ratio: [0.8, 1.2]
    interpolation: ${...interpolation}
    antialias: true
